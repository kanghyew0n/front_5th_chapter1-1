
## 과제 셀프회고

JS 만으로 서비스를 만드는 것에 익숙하지 않아서 처음 시작이 가장 어려웠습니다. 이벤트는 어디서 어떻게 등록하고, 페이지는 어떤 식으로 화면에 그려줘야 되는지 기본적인 동작부터 막히는 저의 모습에 실망했습니다.. 하지만 직접 해보니 금방 적응되어 기능 구현은 비교적 빠르게 진행한 것 같아요.

크게 막혔던 두가지 상황이 있었는데
한 번은 password가 있는지 체크하는 검증때문에 로그인 관련 테스트가 모두 불통되어 하루 종일 잡고있던 것..
또 한 번은 hash에 대한 이해 없이 과제를 진행해서 hash 라우터에서도 history api 를 사용한 것.. 입니다.
hash 라우터에 대해 부끄럽지만 처음 접해봐서 (처음 들어봤어요..) 많이 반성했고 새로운 내용을 알아갈 수 있어 기쁜 마음도 공존했어요 🤓 

상태관리도 이번 기회에 패턴에 대해 조금 알아보고 적용까지 할 수 있어서 가장 큰 소득이 아니었을까.. 생각합니다. 개인적인 기술 부채가 약간은 해소되는 듯한 느낌을 받았어요 😇 역시 코드로 적용하는 것이 가장 빠르게 이해하는 방법이구나.. 하면서 성호 코치님께서 조언 해주셨던 "지금 당장 적용할 수 있는 것을 공부하기" 를 실천한 것 같아 뿌듯한 마음입니다. 언젠가 패턴 마스터가 되길...

퇴근 후에 늘 시간이 없다는 핑계로 공부하는 것을 미루었는데 과제 해결이라는 목표가 명확하니까 정말 앞만 보고 달린 것 같아요. 오랜만에 진득하게 개발 공부를 하니까 너무 재밌었습니다... 물론 그만큼 스트레스 받기도 했답니다 (아직 1주차인데..!!)


<!-- 과제에 대한 회고를 작성해주세요 -->


### 과제 피드백

password 검증하는 코드를 추가했었는데 요거때문에 로그인이 되지 않았습니다 🥲
패스워드 포함하는 것도 테스트 코드에 넣으면 어떨지......
(시간이 여유로웠으면 테스트 코드를 수정해봤어도 좋았을텐데.... 그러질 못했습니다)

```js

 root.addEventListener("submit", (e) => {
    e.preventDefault();

    if (e.target.id === "login-form") {
      const username = e.target.elements.username.value;

      if (!username || !username.trim()) {
        return window.alert("이름을 입력해주세요.");
      }
      // 이거 ....
      // const password = e.target.elements.password.value;
      // if (!password || !password.trim()) {
      //   return window.alert("비밀번호를 입력해주세요.");
      // }

      userStore.setUserInfo("username", username);
      userStore.setUserInfo("email", "");
      userStore.setUserInfo("bio", "");

      history.pushState(null, "", "/profile");
      return render();
    }
```
<!-- 예시
- 과제에서 모호하거나 애매했던 부분
- 과제에서 좋았던 부분
-->
## 리뷰 받고 싶은 내용

### 1. 현재 상태관리가 싱글톤 패턴을 적용하면서 `localStorage`를 캐싱하는 것을 의도했는데 이 방식이 적절한지 궁금합니다!
`store.js 파일에 대한 내용입니다!`
- 현재 메모리에 캐싱하는 방식과 `localStorage` 동기화 방법에 대한 피드백이 궁금합니다. 
- 현재 서비스 구조에서 더 나은 패턴이나 추천해주실 패턴이 있을까요? 😲 
패턴을 처음 고려해봐서 최선이었는지 궁금합니다. (제가 고민했던 패턴은 Pub/Sub 패턴, MVC 패턴 등이 있는데 단일 인스턴스가 보장되는 싱글톤 패턴의 장점과 초기에 작성한 코드에서 많이 벗어나지 않기위해 선택하게 되었습니다.)
- 특정 페이지에서만 필요한 상태를 다룰 때, 현재 구조에서 불필요한 상태 업데이트가 발생하는 부분이 있을까요?! 
혹은 우려되는 부분이 있으신지 궁금합니다!

### 2. `render()`에 있는 `event()`를 처리하는 방법이 고민입니다..
- 현재는 `render()`에서 모든 이벤트를 `event()`로 처리하는데, 페이지 별로 이벤트를 분리하는 방식이 나을까요? 🧐 
- 이벤트 리스너가 매번 등록되어 테스트가 `30000ms`가 넘게 나왔었습니다.🥲 
개선 방법으로 flag 값을 둬서 한 번만 등록하도록 했습니다!
만약 이벤트를 분리했을 경우 여러번 이벤트 리스너가 등록되는 문제는 어떻게 개선할 수 있을까요?! 

`📁 src/routes/router.js > render 함수 > 41번줄 `
```js
    let eventFlag = false;
    const render = {
    // more... 
     if (!eventFlag) {
        eventFlag = true;
        event(routeType);
      }
    }
```
- 현재 방식이 메모리 누수 문제를 일으킬 가능성이 있을까요? 
이런 부분은 어떤식으로 고려할지..예를 들면 어떤걸 과용하면 위험하다와 같은 미리 고려할 수 있는 안티패턴이 있을까요?🧐
- 이 방식을 사용하기 전에 어떤 식으로 이벤트 리스너를 관리해야 애초에 여러번 등록되지 않는지 궁금합니다..!
- 유지보수성과 확장성을 고려했을 때 추천하는 구조가 있는지 궁금합니다!



### 4. 제가 적용한 폴더 구조에 대해 피드백 받고싶습니다.
- 폴더 구조를 짤때 늘 익숙한 모습으로만 구성하게 되는 것 같습니다. 폴더 구조를 구성할때 고려하야할 부분이 있을까요? 
- `handleLogin`이나 `updateProfile`같은 함수는 공통적으로 사용중인데, 이런 함수들은 어떻게 어디서 관리해야 효과적인지 궁금합니다. 원래 `util` 폴더에서 관리 하려다가에서 userstore 값을 변경하는 로직들이라 폴더를 `store`로 변경하여 관리하게 되었습니다.

### 5. 현재 라우터 처리 방식에 대해 피드백 받고 싶습니다!
- `ErrorPage` 페이지에 대한 처리를 `routes`에 존재하지 않으면 `ErrorPage`를 넘기는 방식으로 진행했는데 다른 접근이 있을까요? 
생각했던 방법 중 하나는 `switch case`로 관리하는 방법입니다!
- `authGuard`추가하기도 고려했지만 이 가드도 어떻게 관리할지 고민만 하다가 적용하지 못했습니다.🥲
 어떤식으로 관리하는게 좋을까요? 폴더 위치나 어떤 내용을 포함한 가드를 설계 하는 것을 추천한다, 효율적이다.. 와 같은게 있을까요?
- 리팩토링으로 hash와 history를 한 파일에서 관리하고 싶다는 생각에 분기처리 하는 로직을 util로 빼서 사용하게 되었습니다. 
현재 코드는 아래와 같은데... 참 불필요해 보이더라구요.(이름도 제각각..) 어떻게 하면 이 부분의 로직을 효율 적으로 관리할 수 있을까요?!

`📁 src/routes/router.js > render 함수 > 25번줄 `
```js 
  const routes = getRoutes(routeType);
  const path = getPathByRouteType(routeType);
  const basePath = getBasePath(routeType);
```
- 라우터를 처리하는데 너무 아쉬움만 남는 것 같습니다.🥲 추천하는 방식이 있으신지 궁금합니다!

뭔가 어떤 효율이나 관리 포인트를 고려하지 않고 보기에 이쁜, 관리하기에 편한 로직으로 코드를 짜는데 익숙한 것 같습니다아..
그래서 질문 외에도 추가로 개선할 수 있는 부분이 있거나 문제가 발생할 것 같은 부분이 있다면 코멘트 부탁드립니다!! 🙇‍♀️

