import{u as s,L as g,P as c,M as h,E as d,h as u,a as f}from"./auth-P5U_KJg6.js";const p={"#/":h,"#/profile":c,"#/login":g},o=e=>{window.location.hash=e,a()},a=()=>{const e=document.getElementById("root");console.log("location.hash",location.hash);const n=location.hash===""?"#/":`${location.hash}`,i=s.loggedIn();if(!i&&n==="#/profile")return o("#/login");if(i&&n==="#/login")return o("#/");console.log("path",n);const l=p[n]||d;e.innerHTML=l(),e.addEventListener("click",t=>{const r=t.target.closest("a");if(r){if(t.preventDefault(),t.target.id==="logout")return s.logout(),history.pushState(null,null,"#/login"),a();console.log("target.path",r.pathname),o(`#${r.pathname}`)}},{once:!0}),e.addEventListener("submit",t=>{t.preventDefault(),t.target.id==="login-form"&&(u(t.target.elements),o("#/profile")),t.target.id==="profile-form"&&(f(t.target.elements),o("#/profile"))},{once:!0})};window.addEventListener("hashchange",()=>a());const m=()=>{a()};m();
