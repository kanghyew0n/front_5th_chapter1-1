import{u as l,B as e,L as u,P as d,M as c,E as f,h as p,a as m}from"./auth-P5U_KJg6.js";const P={[`${e}/`]:c,[`${e}/profile`]:d,[`${e}/login`]:u},n=o=>{history.pushState(null,null,o),a()},a=()=>{const o=document.getElementById("root"),r=location.pathname,i=l.loggedIn();if(!i&&r===`${e}/profile`)return n(`${e}/login`);if(i&&r===`${e}/login`)return n(`${e}/`);const g=P[r]||f;o.innerHTML=g(),o.addEventListener("click",t=>{const s=t.target.closest("a");s&&(t.preventDefault(),t.target.id==="logout"&&(l.logout(),n("/login")),console.log(e+s.pathname))},{once:!0}),o.addEventListener("submit",t=>{if(t.preventDefault(),t.target.id==="login-form"&&(p(t.target.elements),n(`${e}/profile`)),t.target.id==="profile-form")return m(t.target.elements)},{once:!0})};window.addEventListener("popstate",a);const h=()=>{a()};h();
